<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <!-- éŸ¿æ‡‰å¼è¨­è¨ˆçš„é—œéµï¼šç¢ºä¿ç¶²é å¯¬åº¦èˆ‡è¨­å‚™å¯¬åº¦ä¸€è‡´ --><meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é›¢ç·š HTML ç·¨è¼¯å™¨ (App æ¨¡å¼)</title>
    
    <!-- PWA/Web App æ¨¡å¼è¨­å®š (è®“ç¶²é å¯æ–°å¢è‡³ä¸»ç•«é¢ä¸¦ä»¥Appæ¨¡å¼é‹è¡Œ) --><meta name="theme-color" content="#3b82f6"> <!-- Android Chrome ç‹€æ…‹åˆ—é¡è‰² --><meta name="apple-mobile-web-app-capable" content="yes"> <!-- iOS å•Ÿç”¨å…¨è¢å¹•æ¨¡å¼ --><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"> <!-- iOS ç‹€æ…‹åˆ—æ¨£å¼ --><meta name="apple-mobile-web-app-title" content="é›¢ç·šç·¨è¼¯å™¨"> <!-- iOS æ¡Œé¢åç¨± --><!-- æ‰€æœ‰çš„æ¨£å¼çš†å·²å…§åµŒï¼Œç¢ºä¿ 100% é›¢ç·šå¯ç”¨æ€§ --><style>
        /* CSS Reset & åŸºæœ¬ä½ˆå±€ */
        :root {
            font-family: 'Inter', sans-serif;
        }
        body {
            background-color: #f3f4f6; /* bg-gray-100 */
            min-height: 100vh;
            /* èª¿æ•´ paddingï¼Œè®“å…§å®¹åœ¨å°è¢å¹•ä¸Šæ›´è²¼é‚Šï¼Œä½†ä»æœ‰é–“è· */
            padding: 10px; 
            display: flex;
            flex-direction: column;
            align-items: center;
            /* ç§»é™¤ max-width è®“ body åœ¨å°è¢å¹•ä¸Šå¯ä»¥ä½”æ»¿ï¼Œå…§å®¹å†é™åˆ¶ */
        }
        /* å¢åŠ ä¸€å€‹å®¹å™¨ä¾†é™åˆ¶å…§å®¹çš„æœ€å¤§å¯¬åº¦ï¼Œç¢ºä¿ RWD */
        .container {
            width: 100%;
            max-width: 600px; /* é‡å°æ‰‹æ©Ÿå’Œå¹³æ¿çš„å¸¸ç”¨æœ€å¤§å¯¬åº¦ */
            display: flex;
            flex-direction: column;
            flex-grow: 1; /* è®“å®¹å™¨å¯ä»¥ä¼¸å±• */
        }
        .flex-grow {
            flex-grow: 1;
        }
        .space-y-4 > * + * {
            margin-top: 1rem; /* space-y-4 */
        }
        
        /* æ¨™é¡Œæ¨£å¼ */
        .header h1 {
            font-size: 1.875rem; /* text-3xl */
            font-weight: 800; /* font-extrabold */
            color: #1f2937; /* text-gray-800 */
            text-align: center;
            margin-bottom: 0.25rem; /* mb-1 */
        }
        .header p {
            font-size: 0.875rem; /* text-sm */
            color: #6b7280; /* text-gray-500 */
            text-align: center;
        }

        /* ç¨‹å¼ç¢¼ç·¨è¼¯å€æ¨£å¼ */
        #htmlEditor {
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.06);
            line-height: 1.4;
            min-height: 50vh; 
            width: 100%; /* ç¢ºä¿ä½”æ»¿çˆ¶å®¹å™¨å¯¬åº¦ */
            padding: 1rem; /* p-4 */
            font-size: 0.875rem; /* text-sm */
            border: 2px solid #d1d5db; /* border-2 border-gray-300 */
            border-radius: 0.5rem; /* rounded-lg */
            transition: all 150ms ease-in-out;
            resize: vertical;
        }
        #htmlEditor:focus {
            border-color: #3b82f6; /* focus:border-primary-blue */
            outline: none;
            box-shadow: 0 0 0 1px #3b82f6; /* focus:ring-1 focus:ring-primary-blue */
        }

        /* æŒ‰éˆ•å®¹å™¨æ¨£å¼ */
        .button-group {
            display: flex;
            /* èª¿æ•´æŒ‰éˆ•é–“è·ä»¥é©æ‡‰å°è¢å¹• */
            gap: 0.75rem; 
            width: 100%;
        }

        /* æŒ‰éˆ•åŸºç¤æ¨£å¼ */
        .btn {
            flex: 1;
            padding: 0.75rem 0.5rem; /* py-3, èª¿æ•´å·¦å³ padding */
            font-weight: 700; /* font-bold */
            font-size: 1rem; /* ç¨å¾®ç¸®å°å­—é«”ä»¥é©æ‡‰å°è¢å¹• */
            border-radius: 0.75rem; /* rounded-xl */
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); /* shadow-lg */
            transition: all 150ms ease-in-out;
            color: white;
            text-align: center;
            cursor: pointer;
            border: none;
            line-height: 1.25;
            white-space: nowrap; /* é˜²æ­¢æŒ‰éˆ•æ–‡å­—æ›è¡Œ */
        }
        .btn:active {
            transform: scale(0.95);
        }

        /* é è¦½æŒ‰éˆ•æ¨£å¼ (secondary-indigo) */
        .btn-preview {
            background-color: #6366f1;
        }
        .btn-preview:hover {
            background-color: #4f46e5; /* hover:bg-indigo-600 */
        }

        /* å„²å­˜æŒ‰éˆ•æ¨£å¼ (primary-blue) */
        .btn-save {
            background-color: #3b82f6;
        }
        .btn-save:hover {
            background-color: #2563eb; /* hover:bg-blue-600 */
        }

        /* è¨Šæ¯æ¡†æ¨£å¼ */
        .message-box {
            position: fixed;
            top: 0;
            left: 50%;
            transform: translate(-50%, 0);
            margin-top: 1rem;
            padding: 0.75rem;
            background-color: white;
            border-radius: 0.5rem;
            box-shadow: 0 10px 15px rgba(0, 0, 0, 0.1);
            z-index: 50;
            transition: all 300ms ease-in-out;
            opacity: 0;
            pointer-events: none;
            max-width: 90%; /* é™åˆ¶è¨Šæ¯æ¡†å¯¬åº¦ */
            text-align: center;
        }
        .message-box.visible {
            opacity: 1;
            transform: translate(-50%, 0);
        }
        .message-box p {
            font-weight: 600; /* font-semibold */
        }

        /* åº•éƒ¨è³‡è¨Š */
        footer {
            width: 100%;
            max-width: 42rem;
            margin-top: 1rem;
            font-size: 0.75rem; /* text-xs */
            color: #9ca3af; /* text-gray-400 */
            text-align: center;
        }
    </style>
    <script>
        /**
         * 1. å„²å­˜åŠŸèƒ½ï¼šå°‡ç·¨è¼¯å™¨ä¸­çš„å…§å®¹å„²å­˜ç‚º .html æª”æ¡ˆä¸¦ä¸‹è¼‰ã€‚
         */
        function saveHtmlFile() {
            const code = document.getElementById('htmlEditor').value;
            const filename = 'my_responsive_code.html';
            // ä½¿ç”¨ Blob ç¢ºä¿é›¢ç·šä¹Ÿèƒ½é‹ä½œ
            const blob = new Blob([code], { type: 'text/html' });
            
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = filename; 
            
            document.body.appendChild(a);

            // ä½¿ç”¨ setTimeout ç¢ºä¿ä¸‹è¼‰æ“ä½œåœ¨å–®ç¨çš„åŸ·è¡Œç·’ä¸­é‹è¡Œï¼Œ
            // é€™æœ‰åŠ©æ–¼è¦é¿éƒ¨åˆ†ç§»å‹•ç€è¦½å™¨å°æœ¬åœ°æ–‡ä»¶åŸ·è¡Œä¸‹è¼‰æ“ä½œçš„å®‰å…¨é™åˆ¶ã€‚
            setTimeout(() => {
                try {
                    a.click();
                    showMessageBox('æˆåŠŸå„²å­˜ï¼æª”æ¡ˆå·²ä¸‹è¼‰è‡³æ‚¨çš„æ‰‹æ©Ÿã€‚', 'text-green-500');
                } catch (e) {
                    // å¦‚æœä¸‹è¼‰å¤±æ•— (é€šå¸¸ç™¼ç”Ÿåœ¨ file:// å”å®š)
                    showMessageBox('æª”æ¡ˆä¸‹è¼‰å¤±æ•— (ç€è¦½å™¨é™åˆ¶)ã€‚è«‹æª¢æŸ¥æ¬Šé™æˆ–ä½¿ç”¨å…¶ä»–ç€è¦½å™¨ã€‚', 'text-red-500');
                    console.error("Download attempt failed:", e);
                }
                
                document.body.removeChild(a);
                URL.revokeObjectURL(url);
            }, 0);
        }
        
        /**
         * 2. é è¦½åŠŸèƒ½ï¼šå°‡ç¨‹å¼ç¢¼è¼‰å…¥åˆ°ä¸€å€‹æ–°çš„ç€è¦½å™¨è¦–çª—ä¸­é€²è¡Œå³æ™‚é è¦½ã€‚
         */
        function previewHtml() {
            const code = document.getElementById('htmlEditor').value;
            
            // é–‹å•Ÿä¸€å€‹æ–°çš„ç©ºç™½è¦–çª—/åˆ†é  (_blank)
            const previewWindow = window.open('', '_blank');
            
            if (!previewWindow) {
                // å¦‚æœç€è¦½å™¨é˜»æ­¢äº†å½ˆå‡ºè¦–çª—
                showMessageBox('ç„¡æ³•é–‹å•Ÿæ–°è¦–çª—ï¼Œè«‹æª¢æŸ¥ç€è¦½å™¨æ˜¯å¦é˜»æ“‹å½ˆå‡ºè¦–çª—ã€‚', 'text-red-500');
                return;
            }
            
            // å¯«å…¥ç¨‹å¼ç¢¼å…§å®¹åˆ°æ–°è¦–çª—
            try {
                // ç‚ºäº†ç¢ºä¿ RWD æ•ˆæœåœ¨æ–°è¦–çª—ä¸­æ­£å¸¸ï¼Œå¿…é ˆå¯«å…¥ viewport meta æ¨™ç±¤
                const fullCode = code.includes('<meta name="viewport"') 
                                 ? code 
                                 : code.replace('<head>', '<head><meta name="viewport" content="width=device-width, initial-scale=1.0">');
                                 
                previewWindow.document.write(fullCode);
                previewWindow.document.close();
                previewWindow.document.title = "HTML ç¨‹å¼ç¢¼é è¦½";

            } catch (e) {
                 showMessageBox('é è¦½è¼‰å…¥å¤±æ•—ï¼Œè«‹æª¢æŸ¥ç¨‹å¼ç¢¼èªæ³•ã€‚', 'text-red-500');
                 console.error("Preview loading failed:", e);
                 // å¤±æ•—æ™‚å˜—è©¦é—œé–‰æ–°è¦–çª—
                 try { previewWindow.close(); } catch(err) {} 
            }
        }

        /**
         * 3. è¨Šæ¯æç¤ºæ¡† (å–ä»£ alert) - æ¨£å¼å·²æ›´æ–°ä»¥é…åˆå…§åµŒ CSS
         */
        function showMessageBox(message, colorClass = 'text-primary-blue') {
            const messageBox = document.getElementById('messageBox');
            const messageText = document.getElementById('messageText');
            
            // è™•ç†è¨Šæ¯é¡è‰² (é›–ç„¶ CSS æ¨£å¼å·²å…§åµŒï¼Œé€™è£¡ä»ä¿ç•™ className é‚è¼¯ä»¥è®Šæ›é¡è‰²)
            let color = '#3b82f6'; // primary-blue
            if (colorClass.includes('green-500')) { color = '#10b981'; }
            if (colorClass.includes('red-500')) { color = '#ef4444'; }
            
            messageText.style.color = color;
            messageText.textContent = message;
            
            // è®“è¨Šæ¯æ¡†å¯è¦‹
            messageBox.classList.add('visible');
            messageBox.classList.remove('opacity-0', 'pointer-events-none');


            // è¨­ç½®è¨ˆæ™‚å™¨ï¼Œåœ¨å¹¾ç§’å¾Œè‡ªå‹•éš±è—è¨Šæ¯æ¡†
            clearTimeout(messageBox.timer);
            messageBox.timer = setTimeout(() => {
                messageBox.classList.remove('visible');
                messageBox.classList.add('opacity-0', 'pointer-events-none');
            }, 3000); 
        }
    </script>
</head>
<body>

    <!-- é ‚éƒ¨æ¨™é¡Œå’Œèªªæ˜ --><div class="container">
        <header class="header w-full mb-4">
            <h1>ğŸ’» é›¢ç·šç¨‹å¼ç¢¼ç·¨è¼¯å™¨</h1>
            <p>è²¼ä¸Š HTML ç¨‹å¼ç¢¼ï¼Œå¯é è¦½æ–¼æ–°è¦–çª—ä¸¦é›¢ç·šå„²å­˜ã€‚</p>
        </header>

        <!-- è¨Šæ¯æç¤ºæ¡† (å–ä»£ alert) - æ¡ç”¨æ›´å‹å–„çš„å‹•ç•«æ•ˆæœ --><div id="messageBox" class="message-box">
            <p id="messageText" style="color:#3b82f6;">è¨Šæ¯</p>
        </div>

        <!-- ä¸»æ“ä½œå€åŸŸ --><main class="w-full flex-grow flex flex-col space-y-4">
            
            <!-- ç¨‹å¼ç¢¼ç·¨è¼¯å€åŸŸ --><textarea 
                id="htmlEditor" 
                placeholder="è«‹åœ¨é€™è£¡è²¼ä¸Šæ‚¨çš„ HTML ç¨‹å¼ç¢¼..."
            >&lt;!DOCTYPE html>
&lt;html lang="zh-Hant">
&lt;head>
    &lt;meta charset="UTF-8">
    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0">
    &lt;title>æˆ‘çš„ RWD ç¶²é é è¦½&lt;/title>
    &lt;!-- é€™è£¡çš„æ¨£å¼æ˜¯æ‚¨ç·¨è¼¯å¾Œæœƒé è¦½çš„å…§å®¹ --&gt;
    &lt;style>
        body { font-family: sans-serif; padding: 20px; text-align: center; background-color: #f0f4f8; }
        .card { 
            background: white; padding: 20px; border-radius: 12px; 
            box-shadow: 0 4px 6px rgba(0,0,0,0.1); 
            max-width: 90%; margin: 20px auto; 
        }
    &lt;/style>
&lt;/head>
&lt;body>
    &lt;div class="card">
        &lt;h1 style="color: #6366f1;">æ–°è¦–çª—é è¦½çš„å…§å®¹&lt;/h1>
        &lt;p>é€™å€‹ç·¨è¼¯å™¨ç¾åœ¨å·²ç¶“æ˜¯ 100% é›¢ç·šå¯ç”¨äº†ï¼&lt;/p>
        &lt;p>è«‹é—œé–‰ç¶²è·¯å¾Œå†è©¦è©¦çœ‹ã€Œå„²å­˜æª”æ¡ˆã€åŠŸèƒ½ã€‚&lt;/p>
    &lt;/div>
&lt;/body>
&lt;/html></textarea>

            <!-- æ“ä½œæŒ‰éˆ• - å·¦å³æ’åˆ— --><div class="button-group">
                <button 
                    onclick="previewHtml()"
                    class="btn btn-preview"
                >
                    ğŸ‘€ é è¦½ç•«é¢ (æ–°è¦–çª—)
                </button>
                <button 
                    onclick="saveHtmlFile()"
                    class="btn btn-save"
                >
                    ğŸ’¾ å¦å­˜ç‚º .html æª”æ¡ˆ
                </button>
            </div>
        </main>

        <!-- åº•éƒ¨è³‡è¨Š (å¯é¸) --><footer>
            æ­¤ç·¨è¼¯å™¨ç¾åœ¨æ˜¯ 100% é›¢ç·šç‰ˆæœ¬ï¼Œç„¡éœ€ç¶²è·¯é€£ç·šæˆ–è³‡æ–™åº«ã€‚
        </footer>
    </div>

</body>
</html>
